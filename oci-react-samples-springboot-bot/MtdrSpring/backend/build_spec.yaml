version: 0.1
component: build
timeoutInSeconds: 100
shell: bash
failImmediatelyOnError: true

steps:
  - type: Command
    name: "CheckoutMainBranch"
    command: git checkout main

  - type: Command
    name: "PullChanges"
    command: git pull origin main

  - type: Command
    name: "NavigateToBackend"
    command: cd Eq5ChatBot/oci-react-samples-springboot-bot/MtdrSpring/backend
    
  - type: Command
    name: "RunUndeployScript"
    command: source undeploy.sh 

  - type: Command
    name: "RunBuildScript"
    command: source build.sh 
      
  - type: Command
    name: "RunDeployScript"
    command: source deploy.sh 
